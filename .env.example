# Telegram
BOT_TOKEN=change_me
ADMIN_IDS=123456789,987654321
ADMIN_LOGIN=admin
ADMIN_PASSWORD=change_me
ADMIN_AUTO_REFRESH_SECONDS=0
FEEDBACK_GROUP_CHAT_ID=-1001234567890
FEEDBACK_GROUP_URL=https://t.me/example
COMMUNITY_CHANNEL_URL=https://t.me/example_channel
FEEDBACK_MODE=native
GLOBAL_MENU_ENABLED=false
SCREEN_TITLE_ENABLED=true
SCREEN_IMAGES_DIR=app/assets/screen_images

# LLM
LLM_PRIMARY=gemini
LLM_FALLBACK=openai
LLM_TIMEOUT_SECONDS=35
REPORT_SAFETY_ENABLED=true
REPORT_DELAY_SECONDS=10
# Report job worker (фоновые задания генерации отчёта)
REPORT_JOB_POLL_INTERVAL_SECONDS=5
REPORT_JOB_LOCK_TIMEOUT_SECONDS=600
RESUME_NUDGE_DELAY_HOURS=6
RESUME_NUDGE_CAMPAIGN=resume_after_stall_v1
CHECKOUT_VALUE_NUDGE_MIN_DELAY_MINUTES=10
CHECKOUT_VALUE_NUDGE_MAX_DELAY_MINUTES=30
CHECKOUT_VALUE_NUDGE_CAMPAIGN=checkout_value_nudge_v1
GEMINI_API_KEY=change_me
GEMINI_API_KEYS=key1,key2,key3
GEMINI_MODEL=gemini-1.5-flash
GEMINI_IMAGE_MODEL=gemini-2.0-flash-exp-image-generation
OPENAI_API_KEY=change_me
OPENAI_API_KEYS=key1,key2,key3
OPENAI_MODEL=gpt-4o-mini

# Payment
PAYMENT_ENABLED=true
# Временный переключатель сценария оплаты:
# provider — оплата через провайдера (по умолчанию), manual — ручные реквизиты.
PAYMENT_MODE=provider
# Для manual-режима (если PAYMENT_MODE=manual):
MANUAL_PAYMENT_CARD_NUMBER=
MANUAL_PAYMENT_RECIPIENT_NAME=
# Строго локальный debug-флаг: авто-подтверждение оплаты без webhook/провайдера (не включать в проде).
PAYMENT_DEBUG_AUTO_CONFIRM_LOCAL=false
PAYMENT_PROVIDER=prodamus
PRODAMUS_FORM_URL=https://pay.example.com/form
# Единый ключ Prodamus (рекомендуется, если провайдер выдал только один ключ)
PRODAMUS_KEY=change_me
# Legacy-поля оставлены для обратной совместимости
PRODAMUS_API_KEY=
PRODAMUS_SECRET=
PRODAMUS_WEBHOOK_SECRET=
CLOUDPAYMENTS_PUBLIC_ID=change_me
CLOUDPAYMENTS_API_SECRET=change_me
PAYMENT_WEBHOOK_URL=https://api.example.com/webhooks/payments
PAYMENT_SUCCESS_URL=https://example.com/payments/success
PAYMENT_FAIL_URL=https://example.com/payments/fail

# Tariffs (RUB)
TARIFF_T0_PRICE_RUB=0
TARIFF_T1_PRICE_RUB=560
TARIFF_T2_PRICE_RUB=2190
TARIFF_T3_PRICE_RUB=5930

# Limits (hours)
FREE_T0_COOLDOWN_HOURS=720

# Storage / DB
DATABASE_URL=postgresql://user:password@localhost:5432/numerolog_bot
# Пул соединений SQLAlchemy (безопасные дефолты для небольшого VPS)
# Рекомендации по пулам:
# DEV:  DATABASE_POOL_SIZE=5, DATABASE_MAX_OVERFLOW=0
# PROD: DATABASE_POOL_SIZE=8, DATABASE_MAX_OVERFLOW=2 (для небольшого VPS)
DATABASE_POOL_SIZE=8
DATABASE_MAX_OVERFLOW=2
DATABASE_POOL_TIMEOUT_SECONDS=30
DATABASE_POOL_RECYCLE_SECONDS=1800
# Короткий кэш аналитики админки для снижения пиковых запросов к БД
ADMIN_ANALYTICS_CACHE_TTL_SECONDS=5
PDF_STORAGE_BUCKET=
PDF_STORAGE_KEY=storage/pdfs
# Путь к TTF-шрифту для корректной кириллицы в PDF:
PDF_FONT_PATH=/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf
PDF_FONT_REGULAR_PATH=/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf
PDF_FONT_BOLD_PATH=/usr/share/fonts/truetype/dejavu/DejaVuSans-Bold.ttf
PDF_FONT_ACCENT_PATH=/usr/share/fonts/truetype/dejavu/DejaVuSerif.ttf
# Строгий текстовый режим PDF: без структуризации секций, текст максимально идентичен версии в TG.
PDF_STRICT_TEXT_MODE=
# Для bucket-хранилища (S3/MinIO) задайте:
# AWS_ACCESS_KEY_ID=change_me
# AWS_SECRET_ACCESS_KEY=change_me
# AWS_DEFAULT_REGION=us-east-1
# AWS_ENDPOINT_URL=https://s3.example.com

# Landing smoke-check (post-deploy)
# URL лендинга, который проверяется после деплоя
LANDING_URL=https://example.com
# Ожидаемый фрагмент CTA (например, ссылка на Telegram-бота)
LANDING_EXPECTED_CTA=https://t.me/your_bot
# Список ассетов через запятую
LANDING_ASSET_URLS=https://example.com/styles.css,https://example.com/script.js

# App
ENV=dev
LOG_LEVEL=info
MONITORING_WEBHOOK_URL=
